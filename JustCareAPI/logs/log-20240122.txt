{"@t":"2024-01-22T06:19:16.0054985Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["186.3587"],"@tr":"cbe854968f7fd0a7439d6b6667c6eaa5","@sp":"cfc2b1f39ae34110","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":186.3587,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000004e-0001-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:19:16.2074481Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["83.8670"],"@tr":"931a42853fc9a66a9022d0036796dd2b","@sp":"f6fa53eee2b40d79","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":83.867,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000054-0004-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:19:24.7538828Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["2065.6780"],"@tr":"151d80d39b492e043dfc388e636ded7c","@sp":"c0e5b29a65d2972c","RequestMethod":"GET","RequestPath":"/AppointmentAPI/GetAppointmentById/14","StatusCode":200,"Elapsed":2065.678,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000037-0002-f900-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:19:44.5266572Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["8.2596"],"@tr":"4ac0a43197c2b1e44347a4d2d5f7e1e8","@sp":"1b61007783e9729f","RequestMethod":"PUT","RequestPath":"/AppointmentAPI/14","StatusCode":405,"Elapsed":8.2596,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000004e-000c-fe00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:21:14.3125902Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["31.8908"],"@tr":"a6c4c23d6fd93f14024d79a039ba5ddf","@sp":"52f10d01b2daebe6","RequestMethod":"PUT","RequestPath":"/AppointmentAPI/14","StatusCode":405,"Elapsed":31.8908,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000133-000b-ff00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:21:55.8114954Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["157.4710"],"@tr":"4707e93c1f5d4241404284d3b2324ed8","@sp":"63c35382a72e8610","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":157.471,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000062-0006-fb00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:21:56.0085890Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["84.9531"],"@tr":"f7922317f372f3d409d9b82d52116c16","@sp":"859cfe37d8ca9be2","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":84.9531,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000012d-000f-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:22:23.7506097Z","@mt":"Id is not exist on Appointment","@l":"Error","@x":"JustCare_MB.Helpers.InvalidIdException: Id is not exist on Appointment\r\n   at JustCare_MB.Services.AppointmentService.UpdateAppointment(Int32 Id, UpdateAppointmentDto updateAppointmentDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Services\\AppointmentService.cs:line 235\r\n   at JustCareAPI.Controllers.AppointmentController.UpdateAppointment(Int32 id, UpdateAppointmentDto appointmentDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCareAPI\\Controllers\\AppointmentController.cs:line 63\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Middlewares\\GlobalExceptionHandlingMiddleware.cs:line 31","@tr":"74f2a09655893baa802630090d4616a2","@sp":"3f2306884791d0c2","SourceContext":"JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware","ActionId":"f344b2bd-e325-4597-9a65-40a03c37f77f","ActionName":"JustCareAPI.Controllers.AppointmentController.UpdateAppointment (JustCareAPI)","RequestId":"80000135-000b-ff00-b63f-84710c7967bb","RequestPath":"/AppointmentAPI/UpdateAppointment/14"}
{"@t":"2024-01-22T06:22:23.7677383Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["3556.2736"],"@tr":"74f2a09655893baa802630090d4616a2","@sp":"3f2306884791d0c2","RequestMethod":"PUT","RequestPath":"/AppointmentAPI/UpdateAppointment/14","StatusCode":404,"Elapsed":3556.2736,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000135-000b-ff00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:22:55.7577958Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["157.2469"],"@tr":"7bcc8486d5de59cd752a09ed02cf2269","@sp":"ac71f71533e579c5","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":157.2469,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000004-0009-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:22:58.8868638Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1206.6535"],"@tr":"c4dee2ebc8d49e53a22394f38ae759fe","@sp":"89e80703ba691d3b","RequestMethod":"PUT","RequestPath":"/AppointmentAPI/UpdateAppointment/14","StatusCode":200,"Elapsed":1206.6535,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000005a-0004-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:23:06.8542985Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["53.8822"],"@tr":"51d009b86b8419714e9d893ccb5fab07","@sp":"d9499a708a62cade","RequestMethod":"GET","RequestPath":"/AppointmentAPI/GetAppointmentById/14","StatusCode":200,"Elapsed":53.8822,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000009b-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:25:07.3258052Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["153.9797"],"@tr":"9be471321032bc25792ec3c90db0acac","@sp":"71ba15a90afe6cad","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":153.9797,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000074-000e-fe00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:25:38.8025804Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1905.4141"],"@tr":"e25e23e39c38a48915529cb2e75bd519","@sp":"566a4e4466117b62","RequestMethod":"PUT","RequestPath":"/AppointmentAPI/UpdateAppointment/14","StatusCode":200,"Elapsed":1905.4141,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"800000b9-0000-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:25:42.2863040Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["96.0929"],"@tr":"ce9f77880fe63f85f37aca8a61c35403","@sp":"e1430cc32644ba4f","RequestMethod":"GET","RequestPath":"/AppointmentAPI/GetAppointmentById/14","StatusCode":200,"Elapsed":96.0929,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"800000b1-0008-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:25:55.1089496Z","@mt":"The appointment must be at least 12 hours away","@l":"Error","@x":"JustCare_MB.Helpers.TimeNotValid: The appointment must be at least 12 hours away\r\n   at JustCare_MB.Services.AppointmentService.UpdateAppointment(Int32 Id, UpdateAppointmentDto updateAppointmentDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Services\\AppointmentService.cs:line 237\r\n   at JustCareAPI.Controllers.AppointmentController.UpdateAppointment(Int32 id, UpdateAppointmentDto appointmentDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCareAPI\\Controllers\\AppointmentController.cs:line 63\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Middlewares\\GlobalExceptionHandlingMiddleware.cs:line 31","@tr":"a7bf6ad99d0d35590a90a3abe47da914","@sp":"9fb340aab3119eb4","SourceContext":"JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware","ActionId":"e2428f4a-91b2-4e20-8875-c59fda45f40f","ActionName":"JustCareAPI.Controllers.AppointmentController.UpdateAppointment (JustCareAPI)","RequestId":"8000009f-0002-fa00-b63f-84710c7967bb","RequestPath":"/AppointmentAPI/UpdateAppointment/14"}
{"@t":"2024-01-22T06:25:55.1284587Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["252.2808"],"@tr":"a7bf6ad99d0d35590a90a3abe47da914","@sp":"9fb340aab3119eb4","RequestMethod":"PUT","RequestPath":"/AppointmentAPI/UpdateAppointment/14","StatusCode":400,"Elapsed":252.2808,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000009f-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:41:40.5972772Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["174.7051"],"@tr":"635ca0f45a5d8d4b47005c14f23c825a","@sp":"ae62393c01ce59fb","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":174.7051,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000010-0008-fb00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:41:40.7678391Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["81.9126"],"@tr":"bbf81fe61d6d6bdbdd683a774730d551","@sp":"04965413781c3fb9","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":81.9126,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000005e-0004-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:42:09.5558843Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1892.5000"],"@tr":"dc48aec4e778de16a5c0388b935d5020","@sp":"59da4436d89ac118","RequestMethod":"POST","RequestPath":"/UserAPI/Login","StatusCode":200,"Elapsed":1892.5,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000078-000e-fe00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:42:30.5517985Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["119.4586"],"@tr":"e1f97c71faf4a83fbf022078ee71c25a","@sp":"68f6e2f522068e27","RequestMethod":"GET","RequestPath":"/AppointmentBookedAPI/GetAllAppointmentBooked","StatusCode":200,"Elapsed":119.4586,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"800000a1-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:42:56.9674345Z","@mt":"Get All Waiting Approval Appointments (appointmentbookeds)","@tr":"3638fe4598c454be2a43356030e58b24","@sp":"11c54c201bf77c0a","SourceContext":"JustCare_MB.Services.AppointmentBookedService","ActionId":"015c68f5-f5ef-4333-a3e7-569fc821410b","ActionName":"JustCareAPI.Controllers.AppointmentBookedController.GetAllWaitingApprovalAppointmentsUsingDentistToken (JustCareAPI)","RequestId":"8000006e-0000-fc00-b63f-84710c7967bb","RequestPath":"/AppointmentBookedAPI/GetAllWaitingApprovalAppointments"}
{"@t":"2024-01-22T06:42:57.0663853Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["114.1097"],"@tr":"3638fe4598c454be2a43356030e58b24","@sp":"11c54c201bf77c0a","RequestMethod":"GET","RequestPath":"/AppointmentBookedAPI/GetAllWaitingApprovalAppointments","StatusCode":200,"Elapsed":114.1097,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000006e-0000-fc00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:43:20.0312775Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["118.9087"],"@tr":"298a71a76b6ebf5c9c5c3418d73cb8cd","@sp":"621574290642dc1e","RequestMethod":"PUT","RequestPath":"/AppointmentBookedAPI/UpdateAppointmentBooked/19","StatusCode":200,"Elapsed":118.9087,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000137-000b-ff00-b63f-84710c7967bb"}
{"@t":"2024-01-22T06:43:41.1625470Z","@mt":"Get All Waiting Approval Appointments (appointmentbookeds)","@tr":"52be50245e7a0fb9c81c0ec42bb93fac","@sp":"a9a1afb7474ce857","SourceContext":"JustCare_MB.Services.AppointmentBookedService","ActionId":"015c68f5-f5ef-4333-a3e7-569fc821410b","ActionName":"JustCareAPI.Controllers.AppointmentBookedController.GetAllWaitingApprovalAppointmentsUsingDentistToken (JustCareAPI)","RequestId":"80000051-000c-fe00-b63f-84710c7967bb","RequestPath":"/AppointmentBookedAPI/GetAllWaitingApprovalAppointments"}
{"@t":"2024-01-22T06:43:41.1825740Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["20.9382"],"@tr":"52be50245e7a0fb9c81c0ec42bb93fac","@sp":"a9a1afb7474ce857","RequestMethod":"GET","RequestPath":"/AppointmentBookedAPI/GetAllWaitingApprovalAppointments","StatusCode":200,"Elapsed":20.9382,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000051-000c-fe00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:08:01.9262284Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["49.2172"],"@tr":"2cac3144655ef88e3abf19a50e759dbc","@sp":"743bbd41be6d4a57","RequestMethod":"GET","RequestPath":"/AppointmentAPI","StatusCode":200,"Elapsed":49.2172,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000088-0000-fc00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:08:17.2588601Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["10.5209"],"@tr":"a79a4348d89a9784a5714d9f083676d3","@sp":"9829e2a9233b12c9","RequestMethod":"GET","RequestPath":"/AppointmentAPI/MyAppointments","StatusCode":200,"Elapsed":10.5209,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000057-000c-fe00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:50:33.4930942Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["165.0132"],"@tr":"f9db7d706238aeb93a2f48413749dbf3","@sp":"9b4bd9552506fb6b","RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":165.0132,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000008f-000d-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:50:33.6627237Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["78.2634"],"@tr":"44ac349eb7806128593f9874f5758a08","@sp":"10840ec63acfdf14","RequestMethod":"GET","RequestPath":"/swagger/v1/swagger.json","StatusCode":200,"Elapsed":78.2634,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"800000a8-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:51:12.5588008Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["1783.3311"],"@tr":"af6cd695826d281ad1c2074132f9d016","@sp":"0d02ca6f51b5b8b2","RequestMethod":"POST","RequestPath":"/UserAPI/Login","StatusCode":200,"Elapsed":1783.3311,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000152-000b-ff00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:51:53.6847359Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["121.2019"],"@tr":"a175a703a7ec473ef3d819403dbe7c07","@sp":"666746894bb0852a","RequestMethod":"POST","RequestPath":"/AppointmentAPI/Create appointment","StatusCode":400,"Elapsed":121.2019,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000091-000d-fd00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:52:03.0392810Z","@mt":"Create Appointment: {\"Date\":\"2024-01-28T00:00:00\",\"CategoryId\":1,\"DentistDescription\":\"string\",\"Images\":[\"\"]}","@tr":"63bea9f090867a264180d7cdb8a4bccc","@sp":"622bd987dcedc2ce","SourceContext":"JustCare_MB.Services.AppointmentService","ActionId":"689071e3-39da-4b8c-872d-4fe7705075de","ActionName":"JustCareAPI.Controllers.AppointmentController.CreateAppointment (JustCareAPI)","RequestId":"800000d8-0008-fc00-b63f-84710c7967bb","RequestPath":"/AppointmentAPI/Create%20appointment"}
{"@t":"2024-01-22T09:52:03.2321400Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["329.5393"],"@tr":"63bea9f090867a264180d7cdb8a4bccc","@sp":"622bd987dcedc2ce","RequestMethod":"POST","RequestPath":"/AppointmentAPI/Create appointment","StatusCode":200,"Elapsed":329.5393,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"800000d8-0008-fc00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:52:15.7015188Z","@mt":"My Appointments By Dintist Token","@tr":"80637e12f4ee0344f8089547feb2b646","@sp":"bc905288ba37a824","SourceContext":"JustCare_MB.Services.AppointmentService","ActionId":"8517512e-b0a5-4a37-9f1f-f369320c84a5","ActionName":"JustCareAPI.Controllers.AppointmentController.MyAppointmentsByDintistToken (JustCareAPI)","RequestId":"800000aa-0002-fa00-b63f-84710c7967bb","RequestPath":"/AppointmentAPI/MyAppointmentsByDintistToken"}
{"@t":"2024-01-22T09:52:15.8330582Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["141.7958"],"@tr":"80637e12f4ee0344f8089547feb2b646","@sp":"bc905288ba37a824","RequestMethod":"GET","RequestPath":"/AppointmentAPI/MyAppointmentsByDintistToken","StatusCode":200,"Elapsed":141.7958,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"800000aa-0002-fa00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:52:55.3317006Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"87964da25c8715d866cb6085c0baed7c","@sp":"4bc1c2352af0ece3","contextType":"JustCare_MB.Data.JustCareContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"f053d4cc-c3bd-47ec-978e-21fcf6cb7a2c","ActionName":"JustCareAPI.Controllers.UserController.Register (JustCareAPI)","RequestId":"8000005f-000c-fe00-b63f-84710c7967bb","RequestPath":"/UserAPI/Register"}
{"@t":"2024-01-22T09:52:55.5470086Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JustCare_MB.Services.UsersService.Register(UserRegisterDto userRegisterDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Services\\UsersService.cs:line 154\r\n   at JustCareAPI.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCareAPI\\Controllers\\UserController.cs:line 47\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Middlewares\\GlobalExceptionHandlingMiddleware.cs:line 31","@tr":"87964da25c8715d866cb6085c0baed7c","@sp":"4bc1c2352af0ece3","SourceContext":"JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware","ActionId":"f053d4cc-c3bd-47ec-978e-21fcf6cb7a2c","ActionName":"JustCareAPI.Controllers.UserController.Register (JustCareAPI)","RequestId":"8000005f-000c-fe00-b63f-84710c7967bb","RequestPath":"/UserAPI/Register"}
{"@t":"2024-01-22T09:52:55.5670670Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["330.8429"],"@tr":"87964da25c8715d866cb6085c0baed7c","@sp":"4bc1c2352af0ece3","RequestMethod":"POST","RequestPath":"/UserAPI/Register","StatusCode":400,"Elapsed":330.8429,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000005f-000c-fe00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:53:15.8570190Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"29c6b888496e68bb08138de7a9c210ce","@sp":"21a81857138ee7de","contextType":"JustCare_MB.Data.JustCareContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"f053d4cc-c3bd-47ec-978e-21fcf6cb7a2c","ActionName":"JustCareAPI.Controllers.UserController.Register (JustCareAPI)","RequestId":"80000093-0000-fc00-b63f-84710c7967bb","RequestPath":"/UserAPI/Register"}
{"@t":"2024-01-22T09:53:16.0113175Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JustCare_MB.Services.UsersService.Register(UserRegisterDto userRegisterDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Services\\UsersService.cs:line 154\r\n   at JustCareAPI.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCareAPI\\Controllers\\UserController.cs:line 47\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Middlewares\\GlobalExceptionHandlingMiddleware.cs:line 31","@tr":"29c6b888496e68bb08138de7a9c210ce","@sp":"21a81857138ee7de","SourceContext":"JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware","ActionId":"f053d4cc-c3bd-47ec-978e-21fcf6cb7a2c","ActionName":"JustCareAPI.Controllers.UserController.Register (JustCareAPI)","RequestId":"80000093-0000-fc00-b63f-84710c7967bb","RequestPath":"/UserAPI/Register"}
{"@t":"2024-01-22T09:53:16.0157274Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["224.6569"],"@tr":"29c6b888496e68bb08138de7a9c210ce","@sp":"21a81857138ee7de","RequestMethod":"POST","RequestPath":"/UserAPI/Register","StatusCode":400,"Elapsed":224.6569,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000093-0000-fc00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:53:31.2063629Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"cd54c2db3ac4734becaee8bec6713503","@sp":"1b13010978313d4d","contextType":"JustCare_MB.Data.JustCareContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"f053d4cc-c3bd-47ec-978e-21fcf6cb7a2c","ActionName":"JustCareAPI.Controllers.UserController.Register (JustCareAPI)","RequestId":"8000016a-000a-ff00-b63f-84710c7967bb","RequestPath":"/UserAPI/Register"}
{"@t":"2024-01-22T09:53:31.3618223Z","@mt":"An error occurred while saving the entity changes. See the inner exception for details.","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_User_Gender_GenderId\". The conflict occurred in database \"JustCare\", table \"dbo.Gender\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:47818a8c-9013-40a6-856a-7b02a55ef590\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at JustCare_MB.Services.UsersService.Register(UserRegisterDto userRegisterDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Services\\UsersService.cs:line 154\r\n   at JustCareAPI.Controllers.UserController.Register(UserRegisterDto userRegisterDto) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCareAPI\\Controllers\\UserController.cs:line 47\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Middlewares\\GlobalExceptionHandlingMiddleware.cs:line 31","@tr":"cd54c2db3ac4734becaee8bec6713503","@sp":"1b13010978313d4d","SourceContext":"JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware","ActionId":"f053d4cc-c3bd-47ec-978e-21fcf6cb7a2c","ActionName":"JustCareAPI.Controllers.UserController.Register (JustCareAPI)","RequestId":"8000016a-000a-ff00-b63f-84710c7967bb","RequestPath":"/UserAPI/Register"}
{"@t":"2024-01-22T09:53:31.3657709Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["173.2362"],"@tr":"cd54c2db3ac4734becaee8bec6713503","@sp":"1b13010978313d4d","RequestMethod":"POST","RequestPath":"/UserAPI/Register","StatusCode":400,"Elapsed":173.2362,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000016a-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:53:43.6013705Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["17.5677"],"@tr":"5629af6f274d50cfd90a36a9fead44c9","@sp":"9dac69b90fbf5e67","RequestMethod":"POST","RequestPath":"/UserAPI/Register","StatusCode":200,"Elapsed":17.5677,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000016c-000a-ff00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:53:54.4051237Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["13.5086"],"@tr":"e5e42063d05867e1718b835c94dc135d","@sp":"a028af403398f6c9","RequestMethod":"POST","RequestPath":"/UserAPI/Login","StatusCode":200,"Elapsed":13.5086,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"8000004f-0004-fb00-b63f-84710c7967bb"}
{"@t":"2024-01-22T09:54:11.3404398Z","@mt":"My Appointments By Dintist Token","@tr":"3d198495fcfca0630426c9a6c6e97a7d","@sp":"3554362cc0568f44","SourceContext":"JustCare_MB.Services.AppointmentService","ActionId":"8517512e-b0a5-4a37-9f1f-f369320c84a5","ActionName":"JustCareAPI.Controllers.AppointmentController.MyAppointmentsByDintistToken (JustCareAPI)","RequestId":"80000154-000b-ff00-b63f-84710c7967bb","RequestPath":"/AppointmentAPI/MyAppointmentsByDintistToken"}
{"@t":"2024-01-22T09:54:11.4774934Z","@mt":"There are no Appointments by this Category","@l":"Error","@x":"JustCare_MB.Helpers.NotFoundException: There are no Appointments by this Category\r\n   at JustCare_MB.Services.AppointmentService.MyAppointmentsByDintistToken() in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Services\\AppointmentService.cs:line 282\r\n   at JustCareAPI.Controllers.AppointmentController.MyAppointmentsByDintistToken() in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCareAPI\\Controllers\\AppointmentController.cs:line 69\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)\r\n   at JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware.InvokeAsync(HttpContext context, RequestDelegate next) in C:\\Users\\Smail_-\\Desktop\\JustCare\\JustCare_MB\\Middlewares\\GlobalExceptionHandlingMiddleware.cs:line 31","@tr":"3d198495fcfca0630426c9a6c6e97a7d","@sp":"3554362cc0568f44","SourceContext":"JustCare_MB.Middlewares.GlobalExceptionHandlingMiddleware","ActionId":"8517512e-b0a5-4a37-9f1f-f369320c84a5","ActionName":"JustCareAPI.Controllers.AppointmentController.MyAppointmentsByDintistToken (JustCareAPI)","RequestId":"80000154-000b-ff00-b63f-84710c7967bb","RequestPath":"/AppointmentAPI/MyAppointmentsByDintistToken"}
{"@t":"2024-01-22T09:54:11.4792184Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["139.4237"],"@tr":"3d198495fcfca0630426c9a6c6e97a7d","@sp":"3554362cc0568f44","RequestMethod":"GET","RequestPath":"/AppointmentAPI/MyAppointmentsByDintistToken","StatusCode":404,"Elapsed":139.4237,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"80000154-000b-ff00-b63f-84710c7967bb"}
